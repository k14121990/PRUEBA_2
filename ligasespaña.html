<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Liga de españa</title>
</head>

<body>
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html" >
            <img src="img/LOGO2.png" width="100" height="100" class="d-inline-block align-top" alt=""></a>
        <b> DEPORTES </b>


        <!--Inicio del Menu-->
        <!--el ID debe ser el mismo que se le puso al data-target-->
        <div class="collapse navbar-collapse" id="navbarSupportedContent" >
            <ul class="navbar-nav mr-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Categorías
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="deportes.html">Deportes</a>
                        <a class="dropdown-item" href="ligasespaña.html">Ligas de España</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

        <!-- FORMULARIO DONDE SE LLAMA LA API LA API-->
        <img src="img/amaño-deportivo-españa-1.jpg" id="imagenliga" >
        <h1 class="text-center text-uppercase">Ligas</h1>
        <div class="container">
            <div class="row">
                <h3>Ligas de España</h3>
            </div>
            <div class="row">
                <button type="button" class="btn btn-primary" id="enviar">Deportes</button>
            </div>
            <div class="row">
                <table class="table" id="liga">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Deporte</th>
                            <th scope="col">Nombre Liga</th>
                            <th scope="col">División</th>
                            <th scope="col">Temporada actual</th>
                            <th scope="col">Año de creación</th>
                            <th scope="col">Fecha Primer evento</th>
                            <th scope="col">Género</th>
                            <th scope="col">País</th>
                            <th scope="col">Descripción</th>
                            <th scope="col">Imagen</th>
                            <th scope="col">Insignia</th>
    
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    
            <!--SIN ESTO NO MUESTRA LAS CATEGORIAS O CARRUSELL-->
            <script src="js/jquery-3.6.0.min.js"></script>
            <script src="js/popper.min.js"></script>
            <script src="js/bootstrap.min.js"></script>
    
            <!--FUNCION PARA LLAMAR LA API-->
            <script>
                $("#enviar").click(function(){
                    $.get("https://www.thesportsdb.com/api/v1/json/1/search_all_leagues.php?c=spain", 
                        function(data){
                            $.each(data.countrys, function(i, item){// data.countrys es donde aparece lo primero de la api
                                $("#liga").append("<tr><td>" + item.idLeague + "</td><td>" + item.strSport + 
                                        "</td><td>" + item.strLeagueAlternate + 
                                            "</td><td>" + item.strDivision + "</td><td>" + item.strCurrentSeason + "</td><td>" + item.intFormedYear + 
                                                    "</td><td>" + item.dateFirstEvent + "</td><td>" + item.strGender + 
                                                        "</td><td>" + item.strCountry + "</td><td>" + item.strDescriptionEN + "</td><td> <img src='" + item.strFanart1 + "'>" + 
                                                                            "</td><td> <img src='" + item.strBadge + "'>" + "</td></tr>")
                            });
        
                        });
        
                });
            </script>
</body>

</html>